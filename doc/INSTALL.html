<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Peter Colberg" />
  <title>Installing &mdash; HDF5 for Lua</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="pandoc.css" type="text/css" />
</head>
<body>
<div class="header">
<ul>
<li><a href="index.html">HDF5 for Lua</a></li>
<li><a href="INSTALL.html">Installing</a></li>
<li><a href="README.html">User's Guide</a></li>
<li><a href="reference.html">Reference</a></li>
<li><a href="https://lists.colberg.org/listinfo/lua-hdf5">Mailing list</a></li>
<li><a href="CHANGES.html">Releases</a></li>
</ul>
</div>
<div class="body">
<h1>Installing</h1>
<div class="toc">
<ul>
<li><a href="#git">Git</a></li>
<li><a href="#luarocks">LuaRocks</a></li>
</ul>
</div>
<p>Before installing HDF5 for Lua, obtain the <a href="http://www.hdfgroup.org/HDF5/release/obtain5.html">HDF5 1.8</a> library if not shipped with your distribution.</p>
<p>GCC 4.5 or later is required to compile <a href="http://luajit.org/ext_ffi.html">FFI</a> bindings for the HDF5 library.</p>
<p>For parallel HDF5, you need an MPI C compiler and <a href="http://colberg.org/lua-mpi/">MPI for Lua</a>.</p>
<h2 id="git">Git</h2>
<p>HDF5 for Lua is available from a <a href="http://git.colberg.org/lua-hdf5">git repository</a>:</p>
<pre><code>git clone http://git.colberg.org/lua-hdf5</code></pre>
<p>In the repository, checkout the latest release version:</p>
<pre><code>git checkout 2.0.0</code></pre>
<p>If you have GnuPG, verify that the tag is signed by the following key:</p>
<pre><code>git tag -v 2.0.0</code></pre>
<pre><code>Primary key fingerprint: 2997 6EC2 2BD1 EBBC CC77  F3A6 183B D5ED 3527 8611
     Subkey fingerprint: 983B F9D0 F02A 6014 0CEC  529F 767E 12A8 C92A 31CB</code></pre>
<p>If the HDF5 header files are in a nonstandard include path, set <code>CPATH</code>:</p>
<pre><code>export CPATH=/usr/include/hdf5/mpich</code></pre>
<p>If the HDF5 library is in a nonstandard library path, set <code>LIBRARY_PATH</code>:</p>
<pre><code>export LIBRARY_PATH=/usr/lib/x86_64-linux-gnu/hdf5/mpich</code></pre>
<p>If LuaJIT is not installed system-wide, set <code>PKG_CONFIG_PATH</code>:</p>
<pre><code>export PKG_CONFIG_PATH=/opt/luajit-2.0.3/lib/pkgconfig</code></pre>
<p>Compile the <a href="http://luajit.org/ext_ffi.html">FFI</a> bindings for the HDF5 library and run the test suite:</p>
<pre><code>make</code></pre>
<p>To override the default GCC C compiler <code>gcc</code>, set <code>CC</code>:</p>
<pre><code>make CC=gcc-4.7</code></pre>
<p>For parallel HDF5, to override the default MPI C compiler <code>mpicc</code>, set <code>CPP</code>:</p>
<pre><code>make CPP=mpicc.mpich</code></pre>
<p>To test parallel HDF5 using the MPI-IO driver:</p>
<pre><code>make MPIEXEC=&quot;mpirun -np 8&quot;</code></pre>
<h2 id="luarocks">LuaRocks</h2>
<p>HDF5 for Lua is available from <a href="http://luarocks.org/">LuaRocks</a>:</p>
<pre><code>luarocks install --local hdf5</code></pre>
<p>You may wish to remove older versions before installing:</p>
<pre><code>luarocks remove --local hdf5</code></pre>
<p>To use the module, set the Lua module path in your shell's startup file:</p>
<pre><code>eval `luarocks path`</code></pre>
<p>If the LuaRocks mirror is not available, install from the git repository above:</p>
<pre><code>luarocks install --local rockspec/hdf5-2.0.0-1.rockspec</code></pre>
<p>To install the module directly from the git source, use:</p>
<pre><code>luarocks make --local rockspec/hdf5-2.0.0-1.rockspec</code></pre>
<p>In this case you must manually git checkout the corresponding version beforehand.</p>
</div>
<div class="footer">
&copy; Copyright 2013â€“2015, Peter Colberg.
Created using <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a>.
</div>
</body>
</html>
